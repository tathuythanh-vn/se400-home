"use strict";(self.chunk_home=self.chunk_home||[]).push([["364"],{2335:function(e,t,a){var r=a(7259),n=a(5896),i=a.n(n),s=a(1546),o=a(3468),d=a(6713),u=a(5074),l=a(5082);let p=(0,l.xP)({reducerPath:"authApi",tagTypes:["Auth"],baseQuery:(0,u.cw)({baseUrl:"http://localhost:5000/api/auth",prepareHeaders:e=>{let t=localStorage.getItem("token");return t&&e.set("authorization",`Bearer ${t}`),e}}),endpoints:e=>({getProfile:e.query({query:()=>({url:""})}),login:e.mutation({query:e=>({url:"login",method:"POST",body:e}),invalidatesTags:["Auth"]}),register:e.mutation({query:e=>({url:"register",method:"POST",body:e}),invalidatesTags:["Auth"]})})}),{useGetProfileQuery:c,useLoginMutation:h,useRegisterMutation:g}=p,m=(0,l.xP)({reducerPath:"chapterApi",tagTypes:["Chapter"],baseQuery:(0,u.cw)({baseUrl:"http://localhost:5000/api/chapters",prepareHeaders:e=>{let t=localStorage.getItem("token");return t&&e.set("Authorization",`Bearer ${t}`),e}}),endpoints:e=>({getChaptersInPage:e.query({query:e=>{let t=new URLSearchParams;return(null==e?void 0:e.page)&&t.append("page",e.page.toString()),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString()),(null==e?void 0:e.search)&&t.append("search",e.search),(null==e?void 0:e.status)&&t.append("status",e.status),(null==e?void 0:e.hadManager)&&t.append("hadManager",e.hadManager),t.toString()?`/?${t.toString()}`:"/"},providesTags:["Chapter"]}),getStatistic:e.query({query:()=>"/statistic",providesTags:["Chapter"]}),getChapterById:e.query({query:e=>`/${e}`,providesTags:(e,t,a)=>[{type:"Chapter",id:a}]}),createChapter:e.mutation({query:e=>({url:"/",method:"POST",body:e}),invalidatesTags:["Chapter"]}),updateChapterById:e.mutation({query:e=>{let{id:t,data:a}=e;return{url:`/${t}`,method:"PUT",body:a}},invalidatesTags:(e,t,a)=>{let{id:r}=a;return[{type:"Chapter",id:r},"Chapter"]}})})}),{useGetChaptersInPageQuery:v,useGetStatisticQuery:y,useGetChapterByIdQuery:S,useCreateChapterMutation:T,useUpdateChapterByIdMutation:P}=m,q=(0,l.xP)({reducerPath:"eventApi",tagTypes:["Event"],baseQuery:(0,u.cw)({baseUrl:"http://localhost:5000/api/events",prepareHeaders:e=>{let t=localStorage.getItem("token");return t&&e.set("authorization",`Bearer ${t}`),e}}),endpoints:e=>({getEventsInPage:e.query({query:e=>{let t=new URLSearchParams;return(null==e?void 0:e.page)&&t.append("page",e.page.toString()),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString()),(null==e?void 0:e.search)&&t.append("search",e.search),(null==e?void 0:e.status)&&t.append("status",e.status),(null==e?void 0:e.scope)&&t.append("scope",e.scope),{url:t.toString()?`/?${t.toString()}`:"/"}},providesTags:["Event"]}),getStatistic:e.query({query:()=>"/statistic",providesTags:["Event"]}),getEventById:e.query({query:e=>`/${e}`,providesTags:(e,t,a)=>[{type:"Event",id:a}]}),createEvent:e.mutation({query:e=>{let t=new FormData;return t.append("name",e.name),t.append("startedAt",e.startedAt),t.append("location",e.location),t.append("description",e.description),t.append("scope",e.scope),e.tags&&e.tags.forEach(e=>t.append("tags[]",e)),e.images&&e.images.forEach(e=>t.append("images",e)),{url:"/",method:"POST",body:t}},invalidatesTags:["Event"]}),updateEventById:e.mutation({query:e=>{let{id:t,data:a}=e,r=new FormData;return a.name&&r.append("name",a.name),a.startedAt&&r.append("startedAt",a.startedAt),a.location&&r.append("location",a.location),a.description&&r.append("description",a.description),a.scope&&r.append("scope",a.scope),a.status&&r.append("status",a.status),a.tags&&a.tags.forEach(e=>r.append("tags[]",e)),a.cloudImgs&&r.append("cloudImgs",JSON.stringify(a.cloudImgs)),a.images&&a.images.forEach(e=>r.append("images",e)),{url:`/${t}`,method:"PUT",body:r}},invalidatesTags:(e,t,a)=>{let{id:r}=a;return[{type:"Event",id:r},"Event"]}})})}),{useGetEventsInPageQuery:b,useGetStatisticQuery:x,useGetEventByIdQuery:E,useCreateEventMutation:j,useUpdateEventByIdMutation:I}=q,w=(0,l.xP)({reducerPath:"commentApi",baseQuery:(0,u.cw)({baseUrl:"http://localhost:5000/api/comments",prepareHeaders:e=>{let t=localStorage.getItem("token");return t&&e.set("Authorization",`Bearer ${t}`),e}}),tagTypes:["Comment"],endpoints:e=>({getComments:e.query({query:e=>{let{eventId:t,status:a}=e,r=new URLSearchParams;return r.append("eventId",t),a&&r.append("status",a),`/?${r.toString()}`},providesTags:(e,t,a)=>{let{eventId:r}=a;return[{type:"Comment",id:r}]}}),createComment:e.mutation({query:e=>({url:"/",method:"POST",body:e}),invalidatesTags:(e,t,a)=>{let{eventId:r}=a;return[{type:"Comment",id:r}]}}),hideComment:e.mutation({query:e=>({url:`/${e}`,method:"PATCH"}),invalidatesTags:["Comment"]})})}),{useGetCommentsQuery:A,useCreateCommentMutation:$,useHideCommentMutation:R}=w,f=(0,l.xP)({reducerPath:"favoriteApi",baseQuery:(0,u.cw)({baseUrl:"http://localhost:5000/api/favorites",prepareHeaders:e=>{let t=localStorage.getItem("token");return t&&e.set("Authorization",`Bearer ${t}`),e}}),tagTypes:["Favorite"],endpoints:e=>({checkFavoriteStatus:e.query({query:e=>{let{eventId:t}=e,a=new URLSearchParams;return a.append("eventId",t),`/?${a.toString()}`},providesTags:(e,t,a)=>{let{eventId:r}=a;return[{type:"Favorite",id:r}]}}),toggleFavorite:e.mutation({query:e=>({url:"/",method:"POST",body:e}),invalidatesTags:(e,t,a)=>{let{eventId:r}=a;return[{type:"Favorite",id:r}]}})})}),{useCheckFavoriteStatusQuery:C,useToggleFavoriteMutation:D}=f,k=(0,l.xP)({reducerPath:"eventRegistrationApi",baseQuery:(0,u.cw)({baseUrl:"http://localhost:5000/api/event-registrations",prepareHeaders:e=>{let t=localStorage.getItem("token");return t&&e.set("Authorization",`Bearer ${t}`),e}}),tagTypes:["EventRegistration"],endpoints:e=>({listEventRegistrations:e.query({query:e=>{let{eventId:t}=e,a=new URLSearchParams;return a.append("eventId",t),`/?${a.toString()}`},providesTags:(e,t,a)=>{let{eventId:r}=a;return[{type:"EventRegistration",id:r}]}}),registerForEvent:e.mutation({query:e=>({url:"/",method:"POST",body:e}),invalidatesTags:["EventRegistration"]}),getMyEvents:e.query({query:()=>"/my-events",providesTags:["EventRegistration"]}),checkInToEvent:e.mutation({query:e=>({url:`/${e}`,method:"PATCH"}),invalidatesTags:["EventRegistration"]}),cancelEventRegistration:e.mutation({query:e=>({url:`/${e}`,method:"DELETE"}),invalidatesTags:["EventRegistration"]})})}),{useListEventRegistrationsQuery:L,useRegisterForEventMutation:U,useGetMyEventsQuery:B,useCheckInToEventMutation:z,useCancelEventRegistrationMutation:F}=k,H=(0,l.xP)({reducerPath:"documentApi",baseQuery:(0,u.cw)({baseUrl:"http://localhost:5000/api/documents",prepareHeaders:e=>{let t=localStorage.getItem("token");return t&&e.set("Authorization",`Bearer ${t}`),e}}),tagTypes:["Document","DocumentStatistic"],endpoints:e=>({getDocumentsInPage:e.query({query:e=>{let t=new URLSearchParams;(null==e?void 0:e.page)&&t.append("page",e.page.toString()),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString()),(null==e?void 0:e.search)&&t.append("search",e.search),(null==e?void 0:e.type)&&t.append("type",e.type),(null==e?void 0:e.scope)&&t.append("scope",e.scope);let a=t.toString();return a?`/?${a}`:"/"},providesTags:e=>e?[...e.data.documents.map(e=>{let{_id:t}=e;return{type:"Document",id:t}}),{type:"Document",id:"LIST"}]:[{type:"Document",id:"LIST"}]}),getDocumentById:e.query({query:e=>`/${e}`,providesTags:(e,t,a)=>[{type:"Document",id:a}]}),createDocument:e.mutation({query:e=>({url:"/",method:"POST",body:e}),invalidatesTags:[{type:"Document",id:"LIST"},{type:"DocumentStatistic"}]}),updateDocumentById:e.mutation({query:e=>{let{id:t,formData:a}=e;return{url:`/${t}`,method:"PUT",body:a}},invalidatesTags:(e,t,a)=>{let{id:r}=a;return[{type:"Document",id:r},{type:"Document",id:"LIST"},{type:"DocumentStatistic"}]}}),getDocumentStatistic:e.query({query:()=>"/statistic",providesTags:[{type:"DocumentStatistic"}]})})}),{useGetDocumentsInPageQuery:O,useGetDocumentByIdQuery:Q,useCreateDocumentMutation:M,useUpdateDocumentByIdMutation:N,useGetDocumentStatisticQuery:_}=H,G=(0,d.configureStore)({reducer:{[p.reducerPath]:p.reducer,[m.reducerPath]:m.reducer,[q.reducerPath]:q.reducer,[w.reducerPath]:w.reducer,[f.reducerPath]:f.reducer,[k.reducerPath]:k.reducer,[H.reducerPath]:H.reducer},middleware:e=>e().concat(p.middleware,m.middleware,q.middleware,w.middleware,f.middleware,k.middleware,H.middleware)});(0,u.$k)(G.dispatch);let J=(0,n.lazy)(()=>a.e("578").then(a.t.bind(a,6545,23)).catch(()=>({default:()=>(0,r.jsx)("div",{children:"Auth service is not available"})}))),K=(0,n.lazy)(()=>a.e("234").then(a.t.bind(a,465,23)).catch(()=>({default:()=>(0,r.jsx)("div",{children:"Member service is not available"})}))),V=(0,o.createBrowserRouter)([{path:"",element:(0,r.jsx)(()=>(0,r.jsxs)("div",{className:"content",children:[(0,r.jsx)("h1",{children:"Rsbuild with React"}),(0,r.jsx)("p",{children:"Start building amazing things with Rsbuild."})]}),{})},{path:"/auth/*",element:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(J,{})})},{path:"/admin/*",element:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(J,{})})},{path:"/manager/*",element:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(J,{})})},{path:"/member/*",element:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(e=>{var t;let{children:a,roles:n}=e,{data:i,isLoading:s}=c();if(s)return(0,r.jsx)("div",{children:"Loading..."});let o=null==i||null==(t=i.data)?void 0:t.role;return o?n.includes(o)?(0,r.jsx)(r.Fragment,{children:a}):(0,r.jsx)("div",{children:"Not Authorized"}):(0,r.jsx)("div",{children:"Not Authenticated"})},{roles:["member"],children:(0,r.jsx)(K,{})})})},{path:"/chat/*",element:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(J,{})})}]);var W=a(2701);let X=document.getElementById("root");X&&s.createRoot(X).render((0,r.jsx)(i().StrictMode,{children:(0,r.jsx)(W.Provider,{store:G,children:(0,r.jsx)(o.RouterProvider,{router:V})})}))}}]);